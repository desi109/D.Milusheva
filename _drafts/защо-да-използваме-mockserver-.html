---
layout: post
title: Защо да използваме MockServer?
date: 
categories:
- Blog
tags: []
permalink: "/"
---
<p><!-- wp:paragraph --></p>
<p>От английски, mocking означава да имитираме/репликираме нещо или някого. Така че, е доста лесно да декодираме, че MockServer, вероятно ще има общо с репликиране на сървър. Тоест ще създадем изкуствен сървър, който ще е копие на истинския и ще имитира негововто поведение. Ще deploy-нем този "сървър-имитатор" и ще изчакаме да  видим respose-a, който ще бъде върнат. Важното тук е, че ако има проблем или  бъде хвърлена грешка, засегнато ще бъде само копието, а ние можем спокоино да продължим работата си и да отстраним грешките, без дори да имаме жив сървър. Има много други причини да работим с mockserver-и и да ги за внедряваме в ...</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>------------------------- допълнение-------------------------------------------------------</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>В света на компютърните технологии, <strong>server</strong>-ът е компютърна програма или устройство, което осигурява функционалността на други програми или устройства, наречени клиенти (clients) .<br />Функционалностите или услугите, които server-ът може да предостави са множество, като започнем от споделяне на данни или ресурси между множество клиенти до извършване на изчисления за клиент.<br />Един сървър може да обслужва множество клиенти, а един клиент може да използва множество сървъри.<br />Моделът request/response се използва най-вече за имплементиране на клиент/сървър системи, т.е клиентът изпраща request до сървъра, който извършва някакво действие и връща response обратно на клиента, което може да бъде някакъв очакван резултат или дори съобщение за грешка.<br />Както ще видим по-долу, това е същият модел, на който разчита HTTP server-ът.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Дефиниция за web или HTTP server<br /><strong>Web server</strong>-ът или <strong>HTTP server</strong>-ът е сървърен софтуер (или хардуер, поддържащ работата на сървърния софтуер), който реализира request/response модела, използвайки World Wide Web и HTTP (протокол.)<br />HTTP server-ът обработва входящите мрежови request-и от клиентите по протокола HTTP и предоставя (serve) съдържание през интернет.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Какво представлява HTTP и как работи?<br />Протоколът за HTTP или Hypertext Transfer Protocol е application layer protocol, който се използва за виртуално предаване на файлове и други данни в световната мрежа, независимо дали те са HTML файлове, файлове с изображения, резултати от request-и или нещо друго. С по-прости думи, HTTP е универсален, говорим език с проста граматика, който позволява бърз „превод“  и по-лесна комуникацията между клиента и сървъра, като описва как информацията трябва да бъде поискана (request-ната) и как да се формират respons-ите. Обикновено HTTP се основава на TCP/IP протоколите, така че се осъществява чрез TCP/IP socket-и.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Какво прави HTTP server-ът?<br />Основната функция на HTTP server-а е да съхранява, обработва и доставя уеб страници до клиенти, използващи HTTP протоколи.<br />Клиент или по-добре казано потребителски агент (user agent), който е софтуер, действащ от името на потребител (обикновено представен от уеб браузър), инициира комуникация чрез отправяне на request за конкретен ресурс, използвайки HTTP към сървъра, (приложение, работещо на компютър, host-ващ уебсайт).<br />Server-ът, който предоставя ресурси като HTML файлове и друго съдържание или изпълнява други функции от името на клиента, връща response в отговор на клиента.<br />Response-ът, обслужван от server-а, съдържа информация за състоянието на завършване на request-a и може също да съдържа requested content in its message body, or an error message if it is unable to serve the content. </p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Here is an analogy pulled form a previous answer I gave to a similar question:<br />The cook in the kitchen that prepares the meal to be served. Programmers write the recipe (php code) that the cook (php) executes in the kitchen (server) using ingredients from the pantry (database) to create the dish (content) that is served by the waiter (http) to the table (browser) for the diner (user) to consume. For an interactive site replace dish with menu and note that the waiter (http) goes both ways and delivers an order from the diner back to the kitchen (server) where the cook (php)can process it.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>------------------------- допълнение-------------------------------------------------------</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>За всяка система, която се интегрирате чрез HTTP или HTTPS, MockServer-ът, може да се използва като:<br />- "сървър-имитатор", конфигуриран да връща конкретни respons-и за различни request-и <br />- прокси запис и по избор промяна на заявки и отговори<br />едновременно прокси за някои искания и макет за други искания едновременно<br />Когато MockServer получи заявка, тя съответства на заявката спрямо активни очаквания, които са били конфигурирани, ако не се намерят съвпадения, той прокси на заявката, ако е подходящо, в противен случай се връща 404.<br />За всяка получена заявка се случват следните стъпки:<br />намерете съвпадение на очакванията и извършете действие<br />ако няма съответстваща заявка за прокси очакване<br />ако не прокси заявка връщане 404<br />Очакването определя действието, което се предприема, например отговор може да бъде върнат.<br />MockServer поддържа следните действия:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Една от най-големите (и определено не най-лесните) части на развитието е интеграцията с външните услуги. Нашите приложения комуникират с външния свят почти при всяка молба. Но по време на процеса на разработване и QA искаме да сведем до минимум въздействието на външната логика върху системата - буквално казано - да накараме външния API да се държи така, както ние го искаме. Ключът за това е макетният сървър.<br />Какво е макет сървър<br />Мокет сървърът е самостоятелно приложение, което се върти до системата за разработка и позволява на други системи да изпращат заявките към него и отговаря с предварително дефинирания набор от данни. Най-общо казано, това е заместител на истинския API, който искаме да избегнем повикване. Основните случаи на употреба са:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><strong>MockServer</strong>-ът не е реален сървър. Това е изкуствено създаден сървър, който симулира работата на истинския, като идеята му е да можем да тестваме API-та и да проверим response-ите или error-ите, които се връщат.<br />Този сървър е настроен по такъв начин, че за конкретен request, който желаем да видим, получаваме конкретен response.<br />MockServer-ът се държи като истински сървър, но използва фалшиви API-та, разбира се, с цел тестване и разработка. <br />Има редица причини, поради които се нуждаем от mockserver-и. Наред със случая, даден по-горе, той се изисква и в днешния тестващ свят. Такова изискване е в методологията Agile, която е наскоро и е по-добра от методологията на водопада. При този метод тестването и разработката вървят рамо до рамо. За това тестерът трябва да има същото изискване като разработчика, за да работи едновременно. За което имате нужда от макет сървър. В допълнение към това в следващия раздел са изброени няколко причини.</p>
<p><!-- /wp:paragraph --></p>
